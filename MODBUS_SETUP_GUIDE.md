# üîå ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Modbus ‡∏à‡∏£‡∏¥‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ASE CEMS Monitoring

## üéØ **‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:**
- ‡πÉ‡∏ä‡πâ Modbus ‡∏à‡∏£‡∏¥‡∏á ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Demo Mode
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå Modbus ‡∏à‡∏£‡∏¥‡∏á
- ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á

## üìã **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:**

### **1. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ IP Address**

#### **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ Modbus Server:**
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `cems-backend/config.json`
2. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô IP ‡∏à‡∏≤‡∏Å `0.0.0.0` ‡πÄ‡∏õ‡πá‡∏ô IP ‡∏à‡∏£‡∏¥‡∏á:
```json
{
  "connection": {
    "devices": [
      {
        "name": "GasAnalyzer",
        "mode": "tcp",
        "ip": "192.168.1.100",  // IP ‡∏Ç‡∏≠‡∏á Modbus Server
        "port": 502,
        "slaveId": 1
      }
    ],
    "demo_mode": false,
    "auto_scan_network": true
  }
}
```

#### **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ Modbus Server:**
- ‡πÉ‡∏ä‡πâ **Auto Scan** = ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Modbus Simulator

### **2. ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Modbus Simulator (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)**

#### **‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Modbus Simulator:**
- [Modbus Slave Simulator](https://www.modbustools.com/download.html)
- ‡∏´‡∏£‡∏∑‡∏≠ [QModMaster](https://sourceforge.net/projects/qmodmaster/)

#### **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Simulator:**
1. ‡πÄ‡∏õ‡∏¥‡∏î Modbus Simulator
2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
   - **IP**: 0.0.0.0 (‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å IP)
   - **Port**: 502
   - **Slave ID**: 1
   - **Register Type**: Holding Registers

3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Registers:
   - Register 0: SO‚ÇÇ value
   - Register 1: NOx value
   - Register 2: O‚ÇÇ value
   - Register 3: CO value
   - Register 4: Dust value
   - Register 5: Temperature
   - Register 6: Velocity
   - Register 7: Pressure

### **3. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Network**

#### **‡πÄ‡∏õ‡∏¥‡∏î Firewall:**
```bash
# Windows Firewall
netsh advfirewall firewall add rule name="Modbus TCP" dir=in action=allow protocol=TCP localport=502
netsh advfirewall firewall add rule name="CEMS Backend" dir=in action=allow protocol=TCP localport=8000
```

#### **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network:**
```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
ping 192.168.1.100

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Modbus Port
telnet 192.168.1.100 502
```

### **4. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Mapping**

#### **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå `mapping.json`:**
```json
[
  {
    "name": "SO2",
    "device": "GasAnalyzer",
    "address": 0,
    "dataType": "int16",
    "formula": "x"
  },
  {
    "name": "NOx",
    "device": "GasAnalyzer", 
    "address": 1,
    "dataType": "int16",
    "formula": "x"
  }
]
```

### **5. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

#### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
1. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Modbus Simulator
2. ‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° CEMS
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
4. ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ Home

#### **‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:**
- **‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß**: "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Modbus ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"
- **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á**: ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Modbus
- **‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° Error**

### **6. ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤**

#### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢:**

**Q: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ**
A: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö IP, Port, Firewall, ‡πÅ‡∏•‡∏∞ Modbus Server

**Q: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô 0 ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î**
A: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Mapping ‡πÅ‡∏•‡∏∞ Register Address

**Q: Auto Scan ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå**
A: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network ‡πÅ‡∏•‡∏∞ Modbus Server

**Q: Backend Error**
A: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Log ‡πÅ‡∏•‡∏∞ Dependencies

## üöÄ **‡∏™‡∏£‡∏∏‡∏õ:**

### **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á:**
1. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ IP Modbus** ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. **‡πÄ‡∏õ‡∏¥‡∏î Firewall** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Port 502 ‡πÅ‡∏•‡∏∞ 8000
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Mapping** ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
4. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠** ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
1. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Modbus Simulator**
2. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Simulator** ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Mapping
3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠**

---
**üìû ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤ ASE**

