# üìã ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Status & Alarm

## üéØ **‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢**
‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤ Status ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Status & Alarm ‡∏à‡∏≤‡∏Å Modbus ‡πÑ‡∏î‡πâ

## üîß **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô**

### **1. Modbus Slave Setup**

#### **Status Device (test4) - Port 505**
```
Device Name: test4
IP: 127.0.0.1
Port: 505
Slave ID: 1
Register Type: Holding Registers
```

#### **Alarm Device (test5) - Port 506**
```
Device Name: test5
IP: 127.0.0.1
Port: 506
Slave ID: 1
Register Type: Holding Registers
```

### **2. Register Values**

#### **Status Registers (test4) - Address 0-14**
| Address | Name | Value | Description |
|---------|------|-------|-------------|
| 0 | Maintenance Mode | 0/1 | ‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ |
| 1 | Calibration Through Probe | 0/1 | ‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡πà‡∏≤‡∏ô probe |
| 2 | Manual Blowback Button | 0/1 | ‡∏õ‡∏∏‡πà‡∏° blowback ‡πÅ‡∏ö‡∏ö‡∏°‡∏∑‡∏≠ |
| 3 | Analyzer Calibration | 0/1 | ‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå |
| 4 | Analyzer Holding Zero | 0/1 | ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ñ‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤ zero |
| 5 | Analyzer Zero Indicator | 0/1 | ‡∏ï‡∏±‡∏ß‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ zero ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå |
| 6 | Sampling SOV | 0/1 | Solenoid valve ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á |
| 7 | Sampling Pump | 0/1 | ‡∏õ‡∏±‡πä‡∏°‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á |
| 8 | Direct Calibration SOV | 0/1 | Solenoid valve ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á |
| 9 | Blowback SOV | 0/1 | Solenoid valve ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö blowback |
| 10 | Calibration Through Probe SOV | 0/1 | Solenoid valve ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡πà‡∏≤‡∏ô probe |
| 11 | Calibration Through Probe Light | 0/1 | ‡πÑ‡∏ü‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡πà‡∏≤‡∏ô probe |
| 12 | Blowback Light | 0/1 | ‡πÑ‡∏ü‡πÅ‡∏™‡∏î‡∏á blowback |
| 13 | Blowback in Operation | 0/1 | Blowback ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô |
| 14 | Hold Current Value | 0/1 | ‡∏ñ‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô |

#### **Alarm Registers (test5) - Address 0-3**
| Address | Name | Value | Description |
|---------|------|-------|-------------|
| 0 | Temperature Controller Alarm | 0/1 | ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ |
| 1 | Analyzer Malfunction | 0/1 | ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ |
| 2 | Sample Probe Alarm | 0/1 | ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô probe ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á |
| 3 | Alarm Light | 0/1 | ‡πÑ‡∏ü‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô |

### **3. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

#### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏õ‡∏¥‡∏î Modbus Slave**
1. ‡πÄ‡∏õ‡∏¥‡∏î Modbus Slave Simulator
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á 2 instances:
   - **Instance 1**: Port 505 (test4 - Status)
   - **Instance 2**: Port 506 (test5 - Alarm)

#### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Registers**
1. **test4 (Status)**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Address 0-14 ‡πÄ‡∏õ‡πá‡∏ô 0 ‡∏´‡∏£‡∏∑‡∏≠ 1
2. **test5 (Alarm)**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Address 0-3 ‡πÄ‡∏õ‡πá‡∏ô 0 ‡∏´‡∏£‡∏∑‡∏≠ 1

#### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠**
1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ Status ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á "‚úÖ Modbus Connected"
3. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Modbus Slave ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

## üö® **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤**

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ**
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Port ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Port 505 ‡πÅ‡∏•‡∏∞ 506 ‡πÉ‡∏ô Modbus Slave

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á**
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Register Address ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Address 0-14 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Status ‡πÅ‡∏•‡∏∞ 0-3 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Alarm

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï**
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** WebSocket ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend ‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà

## üìä **‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**

### **Backend Logs**
```bash
cd cems-backend
python main.py
```

‡∏î‡∏π log:
- `[get_status_data]` - ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Status & Alarm
- `[ws_status]` - WebSocket Status

### **Frontend Console**
‡πÄ‡∏õ‡∏¥‡∏î Developer Tools ‡πÅ‡∏•‡∏∞‡∏î‡∏π:
- WebSocket connection
- Data updates

## ‚úÖ **‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**

1. **‚úÖ Modbus Connected** - ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Status
2. **‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï** - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Modbus Slave ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
3. **‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ Error** - ‡πÑ‡∏°‡πà‡∏°‡∏µ error ‡πÉ‡∏ô console

## üîÑ **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö**

```
Modbus Slave (test4:505, test5:506)
    ‚Üì
Backend (get_status_data)
    ‚Üì
WebSocket (/ws/status)
    ‚Üì
Frontend (Status.jsx)
    ‚Üì
‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Status
```

## üìù **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**

- **Data Type**: int16 (0 ‡∏´‡∏£‡∏∑‡∏≠ 1)
- **Update Frequency**: ‡∏ó‡∏∏‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (WebSocket)
- **Connection**: TCP/IP
- **Slave ID**: 1 (‡∏ó‡∏±‡πâ‡∏á test4 ‡πÅ‡∏•‡∏∞ test5)









