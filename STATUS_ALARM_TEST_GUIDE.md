# üîß ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Status & Alarm (int16)

## üìã **‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°**
‡∏´‡∏ô‡πâ‡∏≤ Status ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Modbus ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ **int16** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Status & Alarm

## üéØ **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô**

### **1. ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå Modbus**
- **test4** (Port 505): ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Status Indicators
- **test5** (Port 506): ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Alarm Signals

### **2. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Modbus Slave**
```
Device: test4 (Status)
- Port: 505
- Registers: 0-14 (15 registers)
- Data Type: int16
- Values: 0 = OFF, 1 = ON

Device: test5 (Alarm)  
- Port: 506
- Registers: 0-3 (4 registers)
- Data Type: int16
- Values: 0 = OFF, 1 = ON
```

## üß™ **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Modbus Slave**
1. ‡πÄ‡∏õ‡∏¥‡∏î Modbus Slave
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á 2 devices:
   - **Device 1**: IP 127.0.0.1, Port 505 (test4)
   - **Device 2**: IP 127.0.0.1, Port 506 (test5)

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Registers**
```
test4 (Status) - Port 505:
Register 0: Maintenance Mode (0/1)
Register 1: Calibration Through Probe (0/1)
Register 2: Manual Blowback Button (0/1)
Register 3: Analyzer Calibration (0/1)
Register 4: Analyzer Holding Zero (0/1)
Register 5: Analyzer Zero Indicator (0/1)
Register 6: Sampling SOV (0/1)
Register 7: Sampling Pump (0/1)
Register 8: Direct Calibration SOV (0/1)
Register 9: Blowback SOV (0/1)
Register 10: Calibration Through Probe SOV (0/1)
Register 11: Calibration Through Probe Light (0/1)
Register 12: Blowback Light (0/1)
Register 13: Blowback in Operation (0/1)
Register 14: Hold Current Value (0/1)

test5 (Alarm) - Port 506:
Register 0: Temperature Controller Alarm (0/1)
Register 1: Analyzer Malfunction (0/1)
Register 2: Sample Probe Alarm (0/1)
Register 3: Alarm Light (0/1)
```

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**
1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ register ‡πÄ‡∏õ‡πá‡∏ô 0 (OFF)
2. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô 1 (ON) ‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Status

## üîç **‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**

### **1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Backend**
```bash
cd cems-backend
python main.py
```

### **2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Frontend**
```bash
cd cems-frontend-new
npm run dev
```

### **3. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ Status**
- URL: `http://localhost:5173/#/status`
- ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ "‚úÖ Modbus Connected"
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

## üêõ **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤**

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Modbus Slave ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Port 505 ‡πÅ‡∏•‡∏∞ 506
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `config.json`

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö mapping ‡πÉ‡∏ô `mapping.json`
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ register ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ 0 ‡∏´‡∏£‡∏∑‡∏≠ 1
3. ‡∏î‡∏π console log ‡πÉ‡∏ô browser

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Data Type (int16)
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Data Format (Signed)
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Address Base (0)

## üìä **‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î**

### **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Status (test4)**
```
1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Register 0 = 1 ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "Maintenance Mode: ON"
2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Register 1 = 1 ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "Calibration Through Probe: ON"
3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Register 2 = 1 ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "Manual Blowback Button: ON"
... (‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö 15 registers)
```

### **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Alarm (test5)**
```
1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Register 0 = 1 ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "Temperature Controller Alarm: ON"
2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Register 1 = 1 ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "Analyzer Malfunction: ON"
3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Register 2 = 1 ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "Sample Probe Alarm: ON"
4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Register 3 = 1 ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô "Alarm Light: ON"
```

## üé® **‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà**

### **1. ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á**
- ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å Modbus registers ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô WebSocket ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÅ‡∏Å‡πä‡∏™

### **2. ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ö‡∏ö Real-time**
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î

### **3. ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô**
- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Alarm ‡πÉ‡∏´‡∏°‡πà
- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Modbus

### **4. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î**
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

## üîß **API Endpoints**

### **POST /read-register**
```json
{
  "device": "test4",
  "address": 0,
  "count": 1,
  "dataType": "int16",
  "dataFormat": "Signed"
}
```

### **Response**
```json
{
  "device": "test4",
  "address": 0,
  "count": 1,
  "dataType": "int16",
  "dataFormat": "Signed",
  "rawRegisters": [1],
  "value": 1,
  "timestamp": "2024-01-01T12:00:00"
}
```

## üìù **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**
- ‡∏´‡∏ô‡πâ‡∏≤ Status ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ä‡πâ REST API ‡πÅ‡∏ó‡∏ô WebSocket
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å Modbus registers ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö mapping.json
- ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡∏•‡∏∞ register ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- **‡πÉ‡∏ä‡πâ int16 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Status & Alarm (0 = OFF, 1 = ON)

## üéØ **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Config**

### **Status & Alarm Configuration:**
- **Data Type:** int16 (16-bit integer) - **‡∏•‡πá‡∏≠‡∏Ñ‡πÑ‡∏ß‡πâ**
- **Register Count:** 1 (1 register per status) - **‡∏•‡πá‡∏≠‡∏Ñ‡πÑ‡∏ß‡πâ**
- **Values:** 0 = OFF, 1 = ON
- **Formula:** x (‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏î‡∏¥‡∏ö‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á) - **‡∏•‡πá‡∏≠‡∏Ñ‡πÑ‡∏ß‡πâ**
- **Data Format:** Signed ‡∏´‡∏£‡∏∑‡∏≠ Unsigned

### **‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ int16:**
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å Modbus system
- ‚úÖ ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö (0 = OFF, 1 = ON)
- ‚úÖ ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô float32
